<!DOCTYPE html>
<html>
        <head>
          <meta http-equiv="X-UA-Compatible" content="IE=edge">
          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
          <title>HERE Data SDK - Scala API references  - com.here.platform.data.processing.driver.impl.executors.RefTreeUtils</title>
          <meta name="description" content="HERE Data SDK - Scala API references - com.here.platform.data.processing.driver.impl.executors.RefTreeUtils">
          <meta name="keywords" content="HERE Data SDK Scala API references com.here.platform.data.processing.driver.impl.executors.RefTreeUtils">
          <meta http-equiv="content-type" content="text/html; charset=UTF-8">
          
      
      <link href="../../../../../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet">
      <link href="../../../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet">
      <link href="../../../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css">
      <script type="text/javascript" src="../../../../../../../../lib/jquery.min.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/jquery.panzoom.min.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/jquery.mousewheel.min.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/index.js"></script>
      <script type="text/javascript" src="../../../../../../../../index.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/scheduler.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/template.js"></script>
      
      <script type="text/javascript">
        /* this variable can be used by the JS to determine the path to the root document */
        var toRoot = '../../../../../../../../';
      </script>
    
        <meta name="copyright" content="© 2024 HERE Europe B.V."><meta name="html_title" content="HERE Data SDK for Java &amp; Scala OLP v0.2.834 API Reference Scala"><meta name="DC.Document.Id" content="e6e02eac-8e11-42ff-a290-d055a2c017f6"><meta name="DC.Document.Name" content="HERE Data SDK for Java &amp; Scala - API Reference Scala"><meta name="DC.Product.Name" content="HERE Data SDK for Java &amp; Scala"><meta name="DC.Product.Version" content="0.2.834"><meta name="DC.Creation.Date" content="2024-11-28T09:59:52+00:00"></head>
        <body>
      <div id="search">
        <span id="doc-title">HERE Data SDK - Scala API references<span id="doc-version"></span></span>
        <span class="close-results"><span class="left">&lt;</span> Back</span>
        <div id="textfilter">
          <span class="input">
            <input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/">
            <i class="clear material-icons"></i>
            <i id="search-icon" class="material-icons"></i>
          </span>
        </div>
    </div>
      <div id="search-results">
        <div id="search-progress">
          <div id="progress-fill"></div>
        </div>
        <div id="results-content">
          <div id="entity-results"></div>
          <div id="member-results"></div>
        </div>
      </div>
      <div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;">
        <div id="content-container" style="-webkit-overflow-scrolling: touch;">
          <div id="subpackage-spacer">
            <div id="packages">
              <h1>Packages</h1>
              <ul>
                <li name="_root_.root" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="_root_"></a><a id="root:_root_"></a>
      <span class="permalink">
      <a href="../../../../../../../../index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../../../../../../index.html"><span class="name">root</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../../../../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="_root_.com" visbl="pub" class="indented1 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="com"></a><a id="com:com"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../../../../../index.html"><span class="name">com</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../../../../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="com.here" visbl="pub" class="indented2 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="here"></a><a id="here:here"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../../../../index.html"><span class="name">here</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../../../../index.html" class="extype" name="com">com</a></dd></dl></div>
    </li><li name="com.here.platform" visbl="pub" class="indented3 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="platform"></a><a id="platform:platform"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../../../index.html"><span class="name">platform</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../../../index.html" class="extype" name="com.here">here</a></dd></dl></div>
    </li><li name="com.here.platform.data" visbl="pub" class="indented4 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="data"></a><a id="data:data"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../../index.html"><span class="name">data</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../../index.html" class="extype" name="com.here.platform">platform</a></dd></dl></div>
    </li><li name="com.here.platform.data.processing" visbl="pub" class="indented5 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="processing"></a><a id="processing:processing"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This package provides the Data Processing Library for building distributed data processing applications." href="../../../index.html"><span class="name">processing</span></a>
      </span>
      
      <p class="shortcomment cmt">This package provides the Data Processing Library for building distributed data processing applications.</p><div class="fullcomment"><div class="comment cmt"><p>This package provides the Data Processing Library for building distributed data processing applications.</p><p>A Runner both implements the interface with the environment for an application to run, and
starts the application. The application, in turn, is driven by a Driver, that controls and
performs the distributed processing.</p><p>Choose a Runner best suited for the environment where the application runs.</p><p>The Driver performs one of more
<a href="../../DriverTask.html" class="extype" name="com.here.platform.data.processing.driver.DriverTask">tasks</a> which read layers from input
catalogs and write to one or more layers of an output catalog.</p><p>The main entry point in the processing library is the <a href="../../DriverBuilder.html" class="extype" name="com.here.platform.data.processing.driver.DriverBuilder">com.here.platform.data.processing.driver.DriverBuilder</a>
class where you can add different kinds of tasks to the driver. The driver runs the tasks,
and commits the final results to the output catalog.</p><p>Tasks are implemented using one or more compilers.</p><p>The simplest compiler is the direct compiler which maps each input tile to N output tiles.
The application needs to define <a href="../../../compiler/Direct1ToNCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.Direct1ToNCompiler">com.here.platform.data.processing.compiler.Direct1ToNCompiler</a>.</p><p>Other more complex compilation patterns are based on some kind of dependency tracking
between input partitions and output partitions.</p><p>The processing Library supports the following patterns:</p><p>- <a href="../../../compiler/NonIncrementalCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.NonIncrementalCompiler">com.here.platform.data.processing.compiler.NonIncrementalCompiler</a>: non-incremental compilation only
- <a href="../../../compiler/DepCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.DepCompiler">com.here.platform.data.processing.compiler.DepCompiler</a>: non-incremental dependency calculation and incremental compilation
- <a href="../../../compiler/IncrementalDepCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.IncrementalDepCompiler">com.here.platform.data.processing.compiler.IncrementalDepCompiler</a>: incremental dependency calculation and compilation
- <a href="../../../compiler/Direct1ToNCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.Direct1ToNCompiler">com.here.platform.data.processing.compiler.Direct1ToNCompiler</a>: incremental compilation where every output tile depends only on one input tile,
  and this mapping is independent from tile content
- <a href="../../../compiler/DirectMToNCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.DirectMToNCompiler">com.here.platform.data.processing.compiler.DirectMToNCompiler</a>: incremental compilation where every output tile depends on multiple input tiles,
  and this mapping is independent from tile content
- <a href="../../../compiler/MapGroupCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.MapGroupCompiler">com.here.platform.data.processing.compiler.MapGroupCompiler</a>: incremental compilation
  where every output tile can depend on multiple input tiles, and this mapping depend on the
  tile content
- <a href="../../../compiler/RefTreeCompiler.html" class="extype" name="com.here.platform.data.processing.compiler.RefTreeCompiler">com.here.platform.data.processing.compiler.RefTreeCompiler</a>: fully-managed two phases incremental compilation
  that can resolve references between input partitions.
  Input/Output dependency management is implemented and the developer doesn't need to provide this logic</p><p>The application's main object normally mixes in the a runner trait (like PipelineRunner)
to setup the Driver, and interfaces with the environment where the application is run.
See the Main classes in the example compilers for more details.</p><p><a href="../../../catalog/index.html" class="extype" name="com.here.platform.data.processing.catalog">com.here.platform.data.processing.catalog</a>, <a href="../../../blobstore/index.html" class="extype" name="com.here.platform.data.processing.blobstore">com.here.platform.data.processing.blobstore</a>,
and <a href="../../../publisher/index.html" class="extype" name="com.here.platform.data.processing.publisher">com.here.platform.data.processing.publisher</a> contain utilities for accessing catalogs and
payloads in a Spark-friendly way, providing an <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>-based
abstraction over data and metadata. These classes are used by the processing library, but can
also be used independently.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../index.html" class="extype" name="com.here.platform.data">data</a></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver" visbl="pub" class="indented6 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="driver"></a><a id="driver:driver"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../index.html"><span class="name">driver</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../index.html" class="extype" name="com.here.platform.data.processing">processing</a></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl" visbl="pub" class="indented7 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="impl"></a><a id="impl:impl"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../index.html"><span class="name">impl</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../index.html" class="extype" name="com.here.platform.data.processing.driver">driver</a></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors" visbl="pub" class="indented8 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="executors"></a><a id="executors:executors"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="index.html"><span class="name">executors</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="com.here.platform.data.processing.driver.impl">impl</a></dd></dl></div>
    </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="DepCompilerBaseExecutor.html" title="Base class for the DepCompilers."></a>
                        <a href="DepCompilerBaseExecutor.html" title="Base class for the DepCompilers.">DepCompilerBaseExecutor</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="DepCompilerExecutor.html" title=""></a>
                        <a href="DepCompilerExecutor.html" title="">DepCompilerExecutor</a>
                      </li><li class="current-entities indented8">
                        <a class="object" href="Direct1ToNCompilerExecutor%24.html" title=""></a>
                        <a class="class" href="Direct1ToNCompilerExecutor.html" title="Implements an incremental compiler for cases where input partitions are mapped to output partitions without overlaps."></a>
                        <a href="Direct1ToNCompilerExecutor.html" title="Implements an incremental compiler for cases where input partitions are mapped to output partitions without overlaps.">Direct1ToNCompilerExecutor</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="object" href="DirectCompileFnUtils%24.html" title=""></a>
                        <a href="DirectCompileFnUtils%24.html" title="">DirectCompileFnUtils</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="DirectMToNCompilerExecutor.html" title="Executor for the com.here.platform.data.processing.compiler.DirectMToNCompiler interface."></a>
                        <a href="DirectMToNCompilerExecutor.html" title="Executor for the com.here.platform.data.processing.compiler.DirectMToNCompiler interface.">DirectMToNCompilerExecutor</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="object" href="ExecutorUtils%24.html" title=""></a>
                        <a href="ExecutorUtils%24.html" title="">ExecutorUtils</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="IncrementalDepCompilerExecutor.html" title=""></a>
                        <a href="IncrementalDepCompilerExecutor.html" title="">IncrementalDepCompilerExecutor</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="InputCatalogUtils.html" title="Provides functions required by Executors to query the input catalogs."></a>
                        <a href="InputCatalogUtils.html" title="Provides functions required by Executors to query the input catalogs.">InputCatalogUtils</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="object" href="MapGroupToRefTreeWrapper%24.html" title=""></a>
                        <a href="MapGroupToRefTreeWrapper%24.html" title="">MapGroupToRefTreeWrapper</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="MapGroupToRefTreeWrapper1To1.html" title=""></a>
                        <a href="MapGroupToRefTreeWrapper1To1.html" title="">MapGroupToRefTreeWrapper1To1</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="MapGroupToRefTreeWrapper1ToN.html" title=""></a>
                        <a href="MapGroupToRefTreeWrapper1ToN.html" title="">MapGroupToRefTreeWrapper1ToN</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="MapGroupToRefTreeWrapperBase.html" title=""></a>
                        <a href="MapGroupToRefTreeWrapperBase.html" title="">MapGroupToRefTreeWrapperBase</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="class" href="NonIncrementalExecutor.html" title="Implements a generic non-incremental compiler."></a>
                        <a href="NonIncrementalExecutor.html" title="Implements a generic non-incremental compiler.">NonIncrementalExecutor</a>
                      </li><li class="current-entities indented8">
                        <a class="object" href="OutputCatalogUtils%24.html" title=""></a>
                        <a class="class" href="OutputCatalogUtils.html" title="Provides functions required by Executors to query the input catalogs."></a>
                        <a href="OutputCatalogUtils.html" title="Provides functions required by Executors to query the input catalogs.">OutputCatalogUtils</a>
                      </li><li class="current-entities indented8">
                        <a class="object" href="RefTreeCompilerExecutor%24.html" title=""></a>
                        <a class="class" href="RefTreeCompilerExecutor.html" title=""></a>
                        <a href="RefTreeCompilerExecutor.html" title="">RefTreeCompilerExecutor</a>
                      </li><li class="current-entities indented8">
                        <span class="separator"></span>
                        <a class="object" href="" title=""></a>
                        <a href="" title="">RefTreeUtils</a>
                      </li><li class="current-entities indented8">
                        <a class="object" href="StateCatalogUtils%24.html" title=""></a>
                        <a class="class" href="StateCatalogUtils.html" title="State management class that provides utilities related to the compilation status:"></a>
                        <a href="StateCatalogUtils.html" title="State management class that provides utilities related to the compilation status:">StateCatalogUtils</a>
                      </li>
              </ul>
            </div>
          </div>
          <div id="content">
            
      <div id="definition">
        <div class="big-circle object">o</div>
        <p id="owner"><a href="../../../../../../../index.html" class="extype" name="com">com</a>.<a href="../../../../../../index.html" class="extype" name="com.here">here</a>.<a href="../../../../../index.html" class="extype" name="com.here.platform">platform</a>.<a href="../../../../index.html" class="extype" name="com.here.platform.data">data</a>.<a href="../../../index.html" class="extype" name="com.here.platform.data.processing">processing</a>.<a href="../../index.html" class="extype" name="com.here.platform.data.processing.driver">driver</a>.<a href="../index.html" class="extype" name="com.here.platform.data.processing.driver.impl">impl</a>.<a href="index.html" class="extype" name="com.here.platform.data.processing.driver.impl.executors">executors</a></p>
        <h1>RefTreeUtils<span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span></h1>
        <h3><span class="morelinks"></span></h3>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <span class="name">RefTreeUtils</span>
      </span>
      </h4>

      
          <div id="comment" class="fullcommenttop"><div class="toggleContainer block">
          <span class="toggle">
            Linear Supertypes
          </span>
          <div class="superTypes hiddenContent"><span class="extype" name="scala.AnyRef">AnyRef</span>, <span class="extype" name="scala.Any">Any</span></div>
        </div></div>
        

      <div id="mbrsel">
        <div class="toggle"></div>
        <div id="memberfilter">
          <i class="material-icons arrow"></i>
          <span class="input">
            <input id="mbrsel-input" placeholder="Filter all members" type="text" accesskey="/">
          </span>
          <i class="clear material-icons"></i>
        </div>
        <div id="filterby">
          <div id="order">
            <span class="filtertype">Ordering</span>
            <ol>
              
              <li class="alpha in"><span>Alphabetic</span></li>
              <li class="inherit out"><span>By Inheritance</span></li>
            </ol>
          </div>
          <div class="ancestors">
                  <span class="filtertype">Inherited<br>
                  </span>
                  <ol id="linearization">
                    <li class="in" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils"><span>RefTreeUtils</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                  </ol>
                </div><div class="ancestors">
              <span class="filtertype"></span>
              <ol>
                <li class="hideall out"><span>Hide All</span></li>
                <li class="showall in"><span>Show All</span></li>
              </ol>
            </div>
          <div id="visbl">
              <span class="filtertype">Visibility</span>
              <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
            </div>
        </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]"></a><a id="Refs:Refs"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">type</span>
      </span>
      <span class="symbol">
        <span class="name">Refs</span><span class="result alias"> = <span class="extype" name="scala.collection.immutable.Map">Map</span>[(<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>), <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../compiler/reftree/RefTree%24.html#RefName=Symbol" class="extmbr" name="com.here.platform.data.processing.compiler.reftree.RefTree.RefName">RefName</a>, <span class="extype" name="scala.Predef.Set">Set</span>[<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>]])]]</span>
      </span>
      
      <p class="shortcomment cmt">Type for storing References in an RDD.</p><div class="fullcomment"><div class="comment cmt"><p>Type for storing References in an RDD. Represents a map. The key of the map is (catalog for
source layer, source layer). The value of the map is (source partition key, [reference name -&gt;
target partition key]). In other words it is mapping between partitions on the source layer to
partitions on the target layer. This mapping is references.
</p></div></div>
    </li></ol>
            </div>

        

        <div class="values members">
              <h3>Value Members</h3>
              <ol>
                <li name="scala.AnyRef#!=" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="!=(x$1:Any):Boolean"></a><a id="!=(Any):Boolean"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#!=(x%241:Any):Boolean" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $bang$eq" class="name">!=</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef###" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="##():Int"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html###():Int" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $hash$hash" class="name">##</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#==" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="==(x$1:Any):Boolean"></a><a id="==(Any):Boolean"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#==(x%241:Any):Boolean" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $eq$eq" class="name">==</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.Any#asInstanceOf" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="asInstanceOf[T0]:T0"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#asInstanceOf%5BT0%5D:T0" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Any.asInstanceOf.T0">T0</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#calcRefs" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="calcRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),com.here.platform.data.processing.catalog.Partitioning.Scheme],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs"></a><a id="calcRefs(RefTree,RDD[(Key,Meta)],ResolveInFn,Int,StorageLevel,Map[(Id,Id),Scheme],ExecutorDebugConfig):Refs"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#calcRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inData:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)%5D,resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),com.here.platform.data.processing.catalog.Partitioning.Scheme%5D,debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">calcRefs</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inData">inData: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Meta.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</a>)]</span>, <span name="resolveIn">resolveIn: <a href="../../../compiler/reftree/ResolveInFn.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.ResolveInFn">ResolveInFn</a></span>, <span name="numThreads">numThreads: <span class="extype" name="scala.Int">Int</span></span>, <span name="storageLevel">storageLevel: <span class="extype" name="org.apache.spark.storage.StorageLevel">StorageLevel</span></span>, <span name="layerPartitioning">layerPartitioning: <span class="extype" name="scala.Predef.Map">Map</span>[(<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>), <a href="../../../catalog/Partitioning%24%24Scheme.html" class="extype" name="com.here.platform.data.processing.catalog.Partitioning.Scheme">Scheme</a>]</span>, <span name="debugConfig">debugConfig: <a href="../../config/ExecutorDebugConfig.html" class="extype" name="com.here.platform.data.processing.driver.config.ExecutorDebugConfig">ExecutorDebugConfig</a></span>)</span><span class="result">: <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>
      </span>
      
      <p class="shortcomment cmt">Calculates all references using the given resolver.</p><div class="fullcomment"><div class="comment cmt"><p>Calculates all references using the given resolver.</p><p>This function takes all the source layers from <span class="extype" name="RefTree">RefTree</span> which doesn't have empty references
and resolves all their partitions, producing a map from subject catalog-layer pairs to a
mapping from source to target partition keys.</p><p>If numThreads &gt; 1, calls are executed in parallel in an ExecutorService.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <span class="extype" name="RefTree">RefTree</span> defining the reference structure</p></dd><dt class="param">inData</dt><dd class="cmt"><p>input data, will be accessed multiple times and must therefore be
                         persisted or easy to rebuild from persisted data</p></dd><dt class="param">resolveIn</dt><dd class="cmt"><p>the interface implementing the function that resolves references</p></dd><dt class="param">numThreads</dt><dd class="cmt"><p>the number of resolving threads</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt class="param">layerPartitioning</dt><dd class="cmt"><p>layer partitioning configuration</p></dd><dt>returns</dt><dd class="cmt"><p>a map of one RDD per layer, with all the references for this layer</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#calcSubRefs" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="calcSubRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,refStructure:Seq[com.here.platform.data.processing.compiler.reftree.RefBase],subset:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),com.here.platform.data.processing.catalog.Partitioning.Scheme],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig,precomputedRefs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs"></a><a id="calcSubRefs(RefTree,Seq[RefBase],RDD[(Key,Meta)],RDD[(Key,Meta)],ResolveInFn,Int,StorageLevel,Map[(Id,Id),Scheme],ExecutorDebugConfig,Refs):Refs"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#calcSubRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,refStructure:Seq%5Bcom.here.platform.data.processing.compiler.reftree.RefBase%5D,subset:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)%5D,inData:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)%5D,resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),com.here.platform.data.processing.catalog.Partitioning.Scheme%5D,debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig,precomputedRefs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">calcSubRefs</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="refStructure">refStructure: <span class="extype" name="scala.Seq">Seq</span>[<a href="../../../compiler/reftree/RefBase.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefBase">RefBase</a>]</span>, <span name="subset">subset: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Meta.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</a>)]</span>, <span name="inData">inData: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Meta.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</a>)]</span>, <span name="resolveIn">resolveIn: <a href="../../../compiler/reftree/ResolveInFn.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.ResolveInFn">ResolveInFn</a></span>, <span name="numThreads">numThreads: <span class="extype" name="scala.Int">Int</span></span>, <span name="storageLevel">storageLevel: <span class="extype" name="org.apache.spark.storage.StorageLevel">StorageLevel</span></span>, <span name="layerPartitioning">layerPartitioning: <span class="extype" name="scala.Predef.Map">Map</span>[(<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>), <a href="../../../catalog/Partitioning%24%24Scheme.html" class="extype" name="com.here.platform.data.processing.catalog.Partitioning.Scheme">Scheme</a>]</span>, <span name="debugConfig">debugConfig: <a href="../../config/ExecutorDebugConfig.html" class="extype" name="com.here.platform.data.processing.driver.config.ExecutorDebugConfig">ExecutorDebugConfig</a></span>, <span name="precomputedRefs">precomputedRefs: <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> = <span class="symbol">Map.empty</span></span>)</span><span class="result">: <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>
      </span>
      
      <p class="shortcomment cmt">Calculates all references required to compile a given subset of input partitions using the
given resolver.</p><div class="fullcomment"><div class="comment cmt"><p>Calculates all references required to compile a given subset of input partitions using the
given resolver.</p><p>Iterates over <span class="extype" name="RefTree">RefTree</span> structure and if layer has references, resolves all partitions from
subset on inData for this layer and filters for relevant references. Recursively calculating
inner references and merging them.</p><p>If numThreads &gt; 1, calls are executed in parallel in an ExecutorService.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <span class="extype" name="RefTree">RefTree</span> defining the reference structure. It is only used for
                         consistency checks of the data returned by the resolver</p></dd><dt class="param">refStructure</dt><dd class="cmt"><p>this should be the sequence of entries on a given level in the passed
                         refTree. Resolving will be started in this level, using the given
                         partitions in the passed subset</p></dd><dt class="param">subset</dt><dd class="cmt"><p>a subset on inData which will be resolved. All resolved tiles will
                         again be recursively resolved</p></dd><dt class="param">inData</dt><dd class="cmt"><p>entire Input Data, will be accessed multiple times and must therefore
                         be persisted or easy to recompute</p></dd><dt class="param">resolveIn</dt><dd class="cmt"><p>the interface implementing the function that resolves references</p></dd><dt class="param">numThreads</dt><dd class="cmt"><p>the number of resolving threads</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt class="param">layerPartitioning</dt><dd class="cmt"><p>layer partitioning configuration</p></dd><dt class="param">debugConfig</dt><dd class="cmt"><p>debug configuration of the executor</p></dd><dt class="param">precomputedRefs</dt><dd class="cmt"><p>precomputed references that can be used to skip some resolution
                         steps. If for a given layer an RDD exists, for a given step of the
                         resolution, corresponding to a specific level of the reftree (i.e. a
                         set of reference names), if a key contains a set of keys for all
                         reference names, the precomputed references are used, otherwise
                         <code>resolveIn</code> is called</p></dd><dt>returns</dt><dd class="cmt"><p>a Map of one RDD per layer, with all the references for this layer</p></dd></dl><dl class="attributes block"> <dt>Note</dt><dd><span class="cmt"><p>This implementation may resolve the same tile multiple times, in case the same layer
      appears on different levels in the tree. For large subsets it can be significantly
      slower than using <a href="#calcRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inData:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)%5D,resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),com.here.platform.data.processing.catalog.Partitioning.Scheme%5D,debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#calcRefs">RefTreeUtils.calcRefs</a> and resolving the entire input data</p></span></dd></dl></div>
    </li><li name="scala.AnyRef#clone" visbl="prt" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="clone():Object"></a><a id="clone():AnyRef"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#clone():Object" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">clone</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<span class="extype" name="java.lang">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.CloneNotSupportedException]">...</span>
    </span>)</span>
              
                <span class="name">@native</span><span class="args">()</span>
              
        </dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#collectRefSources" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="collectRefSources(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id)]"></a><a id="collectRefSources(RefTree):Map[RefName,(Id,Id)]"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#collectRefSources(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id)%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">collectRefSources</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>)</span><span class="result">: <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../compiler/reftree/RefTree%24.html#RefName=Symbol" class="extmbr" name="com.here.platform.data.processing.compiler.reftree.RefTree.RefName">RefName</a>, (<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>)]</span>
      </span>
      
      <p class="shortcomment cmt">Creates a Map that for each ref name contains the source catalog and layer.</p><div class="fullcomment"><div class="comment cmt"><p>Creates a Map that for each ref name contains the source catalog and layer.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <span class="extype" name="RefTree">RefTree</span> to convert to the map.</p></dd><dt>returns</dt><dd class="cmt"><p>a Map that maps reference names to source layers.</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#collectRefTargets" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="collectRefTargets(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id)]"></a><a id="collectRefTargets(RefTree):Map[RefName,(Id,Id)]"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#collectRefTargets(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id)%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">collectRefTargets</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>)</span><span class="result">: <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../compiler/reftree/RefTree%24.html#RefName=Symbol" class="extmbr" name="com.here.platform.data.processing.compiler.reftree.RefTree.RefName">RefName</a>, (<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>)]</span>
      </span>
      
      <p class="shortcomment cmt">Creates a Map that for each ref name contains the target catalog and layer.</p><div class="fullcomment"><div class="comment cmt"><p>Creates a Map that for each ref name contains the target catalog and layer.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p><span class="extype" name="RefTree">RefTree</span> to convert to the map</p></dd><dt>returns</dt><dd class="cmt"><p>a Map which contains the target catalog and layer for each ref name</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#collectSourceLayers" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="collectSourceLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Set[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id)]"></a><a id="collectSourceLayers(RefTree):Set[(Id,Id)]"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#collectSourceLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Set%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id)%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">collectSourceLayers</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>)</span><span class="result">: <span class="extype" name="scala.Predef.Set">Set</span>[(<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>)]</span>
      </span>
      
      <p class="shortcomment cmt">Collects all layers which are the source of a reference.</p><div class="fullcomment"><div class="comment cmt"><p>Collects all layers which are the source of a reference.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <span class="extype" name="RefTree">RefTree</span></p></dd><dt>returns</dt><dd class="cmt"><p>a Set with all layers which are the source of a reference</p></dd></dl></div>
    </li><li name="scala.AnyRef#eq" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="eq(x$1:AnyRef):Boolean"></a><a id="eq(AnyRef):Boolean"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#eq(x%241:AnyRef):Boolean" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">eq</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.AnyRef">AnyRef</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#equals" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="equals(x$1:Any):Boolean"></a><a id="equals(Any):Boolean"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#equals(x%241:Any):Boolean" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">equals</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#finalize" visbl="prt" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="finalize():Unit"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#finalize():Unit" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">finalize</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<span class="extype" name="java.lang">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="symbol">classOf[java.lang.Throwable]</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#gatherReferences" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]"></a><a id="gatherReferences(RefTree,RDD[(Key,Unit)],Refs,RDD[(Key,Meta)],StorageLevel):RDD[(Key,(Key,Meta))]"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Unit)%5D,refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)%5D,storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">gatherReferences</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="impacted">impacted: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <span class="extype" name="scala.Unit">Unit</span>)]</span>, <span name="refs">refs: <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>, <span name="inData">inData: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Meta.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</a>)]</span>, <span name="storageLevel">storageLevel: <span class="extype" name="org.apache.spark.storage.StorageLevel">StorageLevel</span></span>)</span><span class="result">: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, (<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Meta.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</a>))]</span>
      </span>
      
      <p class="shortcomment cmt">Gathers all references needed by the partitions in impacted.</p><div class="fullcomment"><div class="comment cmt"><p>Gathers all references needed by the partitions in impacted.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <span class="extype" name="RefTree">RefTree</span> defining the structure of the references</p></dd><dt class="param">impacted</dt><dd class="cmt"><p>partition keys for which references shall be gathered</p></dd><dt class="param">refs</dt><dd class="cmt"><p>the <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> object with references</p></dd><dt class="param">inData</dt><dd class="cmt"><p>input data, needed to add <span class="extype" name="Meta">Meta</span> to references. Will be
                    accessed multiple times and must therefore be persisted to a StorageLevel
                    other than None</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt>returns</dt><dd class="cmt"><p>all references for the impacted partitions (srcKey, (refKey, refMeta))</p></dd></dl></div>
    </li><li name="scala.AnyRef#getClass" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="getClass():Class[_]"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#getClass():Class%5B_%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getClass</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.Class">Class</span>[_]</span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd>
                <span class="name">@native</span><span class="args">()</span>
              
        </dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#getImpacted" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="getImpacted(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)]"></a><a id="getImpacted(RefTree,RDD[(Key,Change)],Refs):RDD[(Key,Unit)]"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#getImpacted(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)%5D,refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs):org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Unit)%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getImpacted</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inChanges">inChanges: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Change.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Change">Change</a>)]</span>, <span name="refs">refs: <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>)</span><span class="result">: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <span class="extype" name="scala.Unit">Unit</span>)]</span>
      </span>
      
      <p class="shortcomment cmt">Calculates the partitions impacted by a change.</p><div class="fullcomment"><div class="comment cmt"><p>Calculates the partitions impacted by a change. It uses a <span class="extype" name="RefTree">RefTree</span> to know the structure of
the references, and pre-resolved references in a <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> data structure to follow them.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <span class="extype" name="RefTree">RefTree</span> defining the structure of the references</p></dd><dt class="param">inChanges</dt><dd class="cmt"><p>the partitions that need to be checked for impact</p></dd><dt class="param">refs</dt><dd class="cmt"><p>the <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> pre-resolved references to use for reference resolution</p></dd><dt>returns</dt><dd class="cmt"><p>an RDD with all partitions impacted by the inChanges according
        to the given <span class="extype" name="RefTree">RefTree</span>. This RDD does NOT have duplicate entries</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#groupReferences" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="groupReferences(gathered:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta])]"></a><a id="groupReferences(RDD[(Key,(Key,Meta))]):RDD[(Key,Map[Key,Meta])]"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#groupReferences(gathered:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))%5D):org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta%5D)%5D" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">groupReferences</span><span class="params">(<span name="gathered">gathered: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, (<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Meta.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</a>))]</span>)</span><span class="result">: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Meta.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</a>])]</span>
      </span>
      
      <p class="shortcomment cmt">Groups the references gathered by <a href="#gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Unit)%5D,refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)%5D,storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#gatherReferences">gatherReferences</a> into Maps.</p><div class="fullcomment"><div class="comment cmt"><p>Groups the references gathered by <a href="#gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Unit)%5D,refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)%5D,storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#gatherReferences">gatherReferences</a> into Maps.</p><p>A sanity check is implemented to enforce that for the same input key there is one and only one
metadata.
</p></div><dl class="paramcmts block"><dt class="param">gathered</dt><dd class="cmt"><p>references gathered and partitioned by key, one entry per reference</p></dd><dt>returns</dt><dd class="cmt"><p>the references grouped in a Map, for every subject key</p></dd></dl></div>
    </li><li name="scala.AnyRef#hashCode" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="hashCode():Int"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#hashCode():Int" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">hashCode</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd>
                <span class="name">@native</span><span class="args">()</span>
              
        </dd></dl></div>
    </li><li name="scala.Any#isInstanceOf" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="isInstanceOf[T0]:Boolean"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#isInstanceOf%5BT0%5D:Boolean" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="scala.AnyRef#ne" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="ne(x$1:AnyRef):Boolean"></a><a id="ne(AnyRef):Boolean"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#ne(x%241:AnyRef):Boolean" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">ne</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.AnyRef">AnyRef</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#notify" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="notify():Unit"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#notify():Unit" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notify</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@native</span><span class="args">()</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#notifyAll" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="notifyAll():Unit"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#notifyAll():Unit" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notifyAll</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@native</span><span class="args">()</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#synchronized" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="synchronized[T0](x$1:=&gt;T0):T0"></a><a id="synchronized[T0](⇒T0):T0"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#synchronized%5BT0%5D(x%241:=&gt;T0):T0" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: ⇒ <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>)</span><span class="result">: <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#toString" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="toString():String"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#toString():String" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">toString</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.String">String</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#updateRefs" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="updateRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)],oldRefs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),com.here.platform.data.processing.catalog.Partitioning.Scheme],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs"></a><a id="updateRefs(RefTree,RDD[(Key,Change)],Refs,ResolveInFn,Int,StorageLevel,Map[(Id,Id),Scheme],ExecutorDebugConfig):Refs"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#updateRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)%5D,oldRefs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),com.here.platform.data.processing.catalog.Partitioning.Scheme%5D,debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">updateRefs</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inChanges">inChanges: <span class="extype" name="org.apache.spark.rdd.RDD">RDD</span>[(<a href="../../../catalog/Partition%24%24Key.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</a>, <a href="../../../catalog/Partition%24%24Change.html" class="extype" name="com.here.platform.data.processing.catalog.Partition.Change">Change</a>)]</span>, <span name="oldRefs">oldRefs: <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>, <span name="resolveIn">resolveIn: <a href="../../../compiler/reftree/ResolveInFn.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.ResolveInFn">ResolveInFn</a></span>, <span name="numThreads">numThreads: <span class="extype" name="scala.Int">Int</span></span>, <span name="storageLevel">storageLevel: <span class="extype" name="org.apache.spark.storage.StorageLevel">StorageLevel</span></span>, <span name="layerPartitioning">layerPartitioning: <span class="extype" name="scala.Predef.Map">Map</span>[(<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>), <a href="../../../catalog/Partitioning%24%24Scheme.html" class="extype" name="com.here.platform.data.processing.catalog.Partitioning.Scheme">Scheme</a>]</span>, <span name="debugConfig">debugConfig: <a href="../../config/ExecutorDebugConfig.html" class="extype" name="com.here.platform.data.processing.driver.config.ExecutorDebugConfig">ExecutorDebugConfig</a></span>)</span><span class="result">: <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>
      </span>
      
      <p class="shortcomment cmt">Updates the references using the given resolver.</p><div class="fullcomment"><div class="comment cmt"><p>Updates the references using the given resolver.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <span class="extype" name="RefTree">RefTree</span> defining the reference structure</p></dd><dt class="param">inChanges</dt><dd class="cmt"><p>input Data with the changes, will be accessed multiple times
                         and must therefore be persisted or easy to recompute</p></dd><dt class="param">oldRefs</dt><dd class="cmt"><p>the references from the previous map version, where the impact of
                         inChanges has to be applied. It must have been created with the same
                         reference structure as given in <span class="extype" name="RefTree">RefTree</span></p></dd><dt class="param">resolveIn</dt><dd class="cmt"><p>the interface implementing the function that resolves references</p></dd><dt class="param">numThreads</dt><dd class="cmt"><p>the number of resolving threads</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt class="param">layerPartitioning</dt><dd class="cmt"><p>layer partitioning configuration</p></dd><dt>returns</dt><dd class="cmt"><p>the <a href="#Refs=Map%5B(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Id),org.apache.spark.rdd.RDD%5B(com.here.platform.data.processing.catalog.Partition.Key,Map%5Bcom.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set%5Bcom.here.platform.data.processing.catalog.Partition.Key%5D%5D)%5D%5D" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> data structures, where all RDDs are persisted</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#verifyRefTreeAgainstInputLayers" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="verifyRefTreeAgainstInputLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inLayers:Map[com.here.platform.data.processing.catalog.Catalog.Id,Set[com.here.platform.data.processing.catalog.Layer.Id]]):Unit"></a><a id="verifyRefTreeAgainstInputLayers(RefTree,Map[Id,Set[Id]]):Unit"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#verifyRefTreeAgainstInputLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inLayers:Map%5Bcom.here.platform.data.processing.catalog.Catalog.Id,Set%5Bcom.here.platform.data.processing.catalog.Layer.Id%5D%5D):Unit" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">verifyRefTreeAgainstInputLayers</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inLayers">inLayers: <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../catalog/Catalog%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</a>, <span class="extype" name="scala.Predef.Set">Set</span>[<a href="../../../catalog/Layer%24.html#Id=Symbol" class="extmbr" name="com.here.platform.data.processing.catalog.Layer.Id">Id</a>]]</span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      
      <p class="shortcomment cmt">Verifies that catalogs and layers mentioned in RefTree are declared as input layers from
compiler.</p><div class="fullcomment"><div class="comment cmt"><p>Verifies that catalogs and layers mentioned in RefTree are declared as input layers from
compiler. Otherwise throws <code>IllegalArgumentException</code>.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>refStructure to be verified</p></dd><dt class="param">inLayers</dt><dd class="cmt"><p>input layers configured for compiler</p></dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="wait():Unit"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#wait():Unit" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="wait(x$1:Long,x$2:Int):Unit"></a><a id="wait(Long,Int):Unit"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#wait(x%241:Long,x%242:Int):Unit" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Long">Long</span></span>, <span name="arg1">arg1: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" class="indented0 " data-isabs="false" fullcomment="yes" group="Ungrouped">
      <a id="wait(x$1:Long):Unit"></a><a id="wait(Long):Unit"></a>
      <span class="permalink">
      <a href="../../../../../../../../com/here/platform/data/processing/driver/impl/executors/RefTreeUtils%24.html#wait(x%241:Long):Unit" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
                <span class="name">@native</span><span class="args">()</span>
              
        </dd></dl></div>
    </li>
              </ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <span class="extype" name="scala.AnyRef">AnyRef</span></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <span class="extype" name="scala.Any">Any</span></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>
    
          </div>
        </div>
      </div>
    </body>
      </html>
